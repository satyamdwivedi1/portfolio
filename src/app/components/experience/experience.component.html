<section class="experience" id="experience">
  <div class="container">
    <!-- Section Header -->
    <div class="row">
      <div class="col-12 text-center mb-5">
        <h2 class="section-title">Work Experience</h2>
        <p class="section-subtitle">My professional journey and achievements</p>
      </div>
    </div>

    <!-- Experience Timeline -->
    <div class="row">
      <div class="col-12">
        <div class="timeline">
          <div
            *ngFor="let exp of experiences; let i = index"
            class="timeline-item"
            [class.current-job]="exp.isCurrentJob"
          >
            <!-- Timeline Connector -->
            <div class="timeline-connector">
              <div class="timeline-dot" [class.current]="exp.isCurrentJob">
                <svg
                  *ngIf="exp.isCurrentJob"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  class="current-icon"
                >
                  <path
                    fill-rule="evenodd"
                    d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z"
                    clip-rule="evenodd"
                  />
                </svg>
                <svg
                  *ngIf="!exp.isCurrentJob"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  class="work-icon"
                >
                  <path
                    fill-rule="evenodd"
                    d="M7.5 5.25a3 3 0 013-3h3a3 3 0 013 3v.205c.933.085 1.857.197 2.774.334 1.454.218 2.476 1.483 2.476 2.917v6.75a3 3 0 01-3 3H4.25a3 3 0 01-3-3V8.706c0-1.434 1.022-2.7 2.476-2.917A48.814 48.814 0 017.5 5.455V5.25zm7.5 0v.09a49.488 49.488 0 00-6 0v-.09a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              <div
                class="timeline-line"
                *ngIf="i < experiences.length - 1"
              ></div>
            </div>

            <!-- Experience Card -->
            <div class="experience-card">
              <!-- Card Header -->
              <div class="card-header">
                <div class="company-info">
                  <h3 class="company-name">{{ exp.company }}</h3>
                  <div class="job-details">
                    <span class="role">{{ exp.role }}</span>
                    <span class="duration">{{ exp.duration }}</span>
                    <span
                      *ngIf="exp.projects && exp.projects.length > 0"
                      class="projects-count"
                    >
                      {{ exp.projects.length }} Project{{
                        exp.projects.length > 1 ? "s" : ""
                      }}
                    </span>
                    <span *ngIf="exp.isCurrentJob" class="current-badge"
                      >Current</span
                    >
                  </div>
                </div>
              </div>

              <!-- Achievements -->
              <div class="achievements">
                <ul class="achievement-list">
                  <li
                    *ngFor="let achievement of exp.achievements"
                    class="achievement-item"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                      class="check-icon"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z"
                        clip-rule="evenodd"
                      />
                    </svg>
                    <span>{{ achievement }}</span>
                  </li>
                </ul>
              </div>

              <!-- Projects (if any) -->
              <div
                *ngIf="exp.projects && exp.projects.length > 0"
                class="projects-section"
              >
                <h4 class="projects-title">Key Projects:</h4>
                <div class="projects-grid">
                  <div
                    *ngFor="let project of exp.projects"
                    class="project-card"
                  >
                    <div class="project-header">
                      <h5 class="project-name">{{ project.name }}</h5>
                      <span class="project-role">{{ project.role }}</span>
                    </div>
                    <p class="project-description">{{ project.description }}</p>

                    <div class="project-achievements">
                      <ul class="project-achievement-list">
                        <li
                          *ngFor="let achievement of project.achievements"
                          class="project-achievement-item"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 24 24"
                            fill="currentColor"
                            class="project-check-icon"
                          >
                            <path
                              fill-rule="evenodd"
                              d="M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z"
                              clip-rule="evenodd"
                            />
                          </svg>
                          <span>{{ achievement }}</span>
                        </li>
                      </ul>
                    </div>

                    <div class="project-technologies">
                      <div class="project-tech-tags">
                        <span
                          *ngFor="let tech of project.technologies"
                          class="project-tech-tag"
                          >{{ tech }}</span
                        >
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Technologies -->
              <div class="technologies">
                <h4 class="tech-title">Technologies Used:</h4>
                <div class="tech-tags">
                  <span
                    *ngFor="let tech of exp.technologies"
                    class="tech-tag"
                    >{{ tech }}</span
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Experience Summary -->
    <div class="row mt-5">
      <div class="col-12">
        <div class="experience-summary">
          <div class="summary-grid">
            <div class="summary-item">
              <div class="summary-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              <div class="summary-content">
                <span class="summary-number">{{ getTotalExperience() }}</span>
                <span class="summary-label">Experience</span>
              </div>
            </div>

            <div class="summary-item">
              <div class="summary-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M4.5 2.25a.75.75 0 000 1.5v16.5h-.75a.75.75 0 000 1.5h16.5a.75.75 0 000-1.5h-.75V3.75a.75.75 0 000-1.5h-15zM9 6a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5H9zm-.75 3.75A.75.75 0 019 9h1.5a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM9 12a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5H9zm3.75-5.25A.75.75 0 0113.5 6H15a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zM13.5 9a.75.75 0 000 1.5H15A.75.75 0 0015 9h-1.5zm-.75 3.75a.75.75 0 01.75-.75H15a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              <div class="summary-content">
                <span class="summary-number">{{ getCompanyCount() }}</span>
                <span class="summary-label">Companies</span>
              </div>
            </div>

            <div class="summary-item">
              <div class="summary-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M7.502 6h7.128A3.375 3.375 0 0118 9.375v9.375a3 3 0 003-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 00-.673-.05A3 3 0 0015 1.5h-1.5a3 3 0 00-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6zM13.5 3A1.5 1.5 0 0012 4.5h4.5A1.5 1.5 0 0015 3h-1.5z"
                    clip-rule="evenodd"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 013 20.625V9.375zM6 12a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V12zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zm0 2.25a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              <div class="summary-content">
                <span class="summary-number">{{ getTotalProjects() }}</span>
                <span class="summary-label">Major Projects</span>
              </div>
            </div>

            <div class="summary-item">
              <div class="summary-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M14.25 9.75L16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0020.25 18V6A2.25 2.25 0 0018 3.75H6A2.25 2.25 0 003.75 6v12A2.25 2.25 0 006 20.25z"
                  />
                </svg>
              </div>
              <div class="summary-content">
                <span class="summary-number">{{
                  getAllTechnologies().length
                }}</span>
                <span class="summary-label">Technologies</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
